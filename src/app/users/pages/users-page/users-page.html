@if (usersService.query.isPending()) {
<app-progress-spinner />
} @else if (usersService.query.error()) {
<div class="text-red-500 font-semibold">
    An error has occurred: {{ usersService.query.error()?.message }}
</div>
}@else {
<app-screen-header title="Usuarios" [showCreate]="true" [showExport]="true" createText="Nuevo usuario" />
<app-table-layout [headers]="headers">
    <ng-container tableBody>
        @for (user of usersService.query.data()?.users; track user.id) {
        <tr class="border-b border-neutral-300">
            <td appTableRow>
                <app-theme-text variant="label" class="text-[#101828] font-medium"> {{ user.id }}</app-theme-text>
            </td>
            <td appTableRow>
                <app-theme-text variant="label" class="text-[#101828] font-medium"> {{ user.name }}</app-theme-text>
            </td>
            <td appTableRow>
                <app-theme-text variant="label" class="text-[#101828] font-medium">
                    {{ user.email }}
                </app-theme-text>
            </td>
            <td appTableRow class="flex justify-end">
                <div class="flex flex-col mr-5">
                    <button class="cursor-pointer">
                        <app-theme-text variant="label" class="text-palette-primary font-medium ">
                            Editar
                        </app-theme-text>
                    </button>
                    <button class="cursor-pointer">
                        <app-theme-text variant="label" class="text-red-500 font-medium ">
                            Eliminar
                        </app-theme-text>
                    </button>
                </div>

            </td>
        </tr>
        }
    </ng-container>
</app-table-layout>

<mat-paginator [length]="usersService.totalItems()" [pageSize]="usersService.limit()"
    (page)="usersService.onPageChange($event)" [pageSizeOptions]="[5, 10, 25, 50]" aria-label="Seleccionar pÃ¡gina">
</mat-paginator>
}